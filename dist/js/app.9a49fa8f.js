(function(t){function e(e){for(var i,u,r=e[0],o=e[1],l=e[2],p=0,h=[];p<r.length;p++)u=r[p],Object.prototype.hasOwnProperty.call(s,u)&&s[u]&&h.push(s[u][0]),s[u]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);c&&c(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var o=n[r];0!==s[o]&&(i=!1)}i&&(a.splice(e--,1),t=u(u.s=n[0]))}return t}var i={},s={app:0},a=[];function u(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=i,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)u.d(n,i,function(e){return t[e]}.bind(null,i));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var c=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=(n("caad"),n("2532"),n("ac1f"),n("5319"),n("2f62"));i["default"].use(s["a"]);var a=new s["a"].Store({state:{},actions:{},getters:{},methods:{rulesInputName:function(t){console.log("rulesInputName111",t),this.state.inputs[t].input_value.length>4&&this.state.inputs[t].input_value.includes(" ")&&this.state.inputs[t].input_value.replace(/[^a-zA-ZА-Яа-я]/g,"").length>=4?this.$set(this.state.inputs[t],"state",!0):0===this.state.inputs[t].input_value.length?this.$set(this.state.inputs[t],"state",null):this.$set(this.state.inputs[t],"state",!1),this.checkForms()}},mutations:{updateTimeBegin:function(t){this.state.inputs.timeBegin=t},updateTimeEnd:function(t){this.state.inputs.timeEnd=t}}}),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],o={components:{}},l=o,c=n("2877"),p=Object(c["a"])(l,u,r,!1,null,null,null),h=p.exports,m=n("5f5b"),d=n("b1e0"),f=(n("f9e3"),n("2dd8"),n("8c4f")),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",{staticClass:"justify-content-md-center mt-4"},[n("b-col",{attrs:{col:"",md:"8"}},[n("b-card",{attrs:{header:"Форма записи к врачу","header-bg-variant":"primary","header-text-variant":"white"}},[n("b-card-text",[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.appointment()}}},[t._l(t.inputs,(function(e,i,s){return n("div",{key:s},["seek_city"===e.type?[n("b-form-group",{attrs:{description:e.description}},[n("DaDataComponent",{attrs:{placeholder:e.tabel,func:t.rulesInputCity}})],1)]:[n("b-form-group",{attrs:{description:e.description,tabel:e.tabel}},[n("b-form-input",{attrs:{placeholder:e.tabel,type:e.type,state:e.state},on:{update:function(t){return e.rules(i)}},model:{value:e.input_value,callback:function(n){t.$set(e,"input_value",n)},expression:"input.input_value"}}),n("b-form-invalid-feedback",[t._v(" "+t._s(e.mistake)+" ")])],1)]],2)})),n("b-form-group",{attrs:{description:"Выерите время записи",tabel:"Время записи"}},[n("b-row",{staticClass:"mb-3"},[n("b-col",{attrs:{md:"4"}},[n("b-form-select",{attrs:{options:t.timeZone},model:{value:t.timeBegin,callback:function(e){t.timeBegin=e},expression:"timeBegin"}})],1),n("b-col",{attrs:{md:"4"}},[n("b-form-select",{attrs:{options:t.timeZone},model:{value:t.timeEnd,callback:function(e){t.timeEnd=e},expression:"timeEnd"}})],1),n("b-button",{attrs:{type:"submit",disabled:t.disableButton,variant:"outline-primary"}},[t._v("Создать запись")])],1)],1),n("b-form-group")],2)],1)],1)],1)],1)],1)},v=[],_=(n("fb6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("vue-dadata",{attrs:{locationOptions:{country:"Россия"},placeholder:t.placeholder,onChange:t.func,token:"9a2454c5d3d8b2533223166390a270ac89e3b912"}})],1)}),g=[],y=n("4e06"),k={name:"DaDataComponent",components:{"vue-dadata":y["a"]},props:["placeholder","func"]},$=k,w=Object(c["a"])($,_,g,!1,null,null,null),E=w.exports,x={name:"MainForm",components:{DaDataComponent:E},data:function(){var t=this;return{inputs:{1:{id:1,input_value:"",type:"text",description:"Введите ваше ФИО",tabel:"Ваше ФИО",state:null,mistake:"Заполните форму",rules:function(e){t.rulesInputName(e)}},2:{id:2,input_value:0,type:"number",description:"Введите ваш возраст",tabel:"Ваш возраст",state:null,mistake:"Укажите возраст",rules:function(e){t.rulesInputAge(e)}},3:{id:3,input_value:"",type:"date",description:"Введите дату записи",tabel:"Ваша дату",state:null,mistake:"Заполните форму",rules:function(e){t.rulesInputDate(e)}},4:{id:4,input_value:"",type:"seek_city",description:"Введите город проживания",tabel:"Ваш город",state:null,mistake:"Заполните форму"}},timeBegin:"",timeEnd:"",disableButton:!0,timeZone:["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"]}},watch:{timeBegin:{handler:function(){this.checkForms()}},timeEnd:{handler:function(){this.checkForms()}}},computed:{},methods:{checkForms:function(){for(var t in this.inputs)if(!1===this.inputs[t].state||null===this.inputs[t].state)return void(this.disableButton=!0);!0===this.checkTime()?this.disableButton=!1:this.disableButton=!0},rulesInputName:function(t){this.inputs[t].input_value.includes(" ")&&this.inputs[t].input_value.replace(/[^a-zA-ZА-Яа-я]$/,"").length>=4&&/^[a-zA-ZА-Яа-я ]+$/.test(this.inputs[t].input_value)?this.$set(this.inputs[t],"state",!0):0===this.inputs[t].input_value.length?this.$set(this.inputs[t],"state",null):this.$set(this.inputs[t],"state",!1),this.checkForms()},rulesInputAge:function(t){this.inputs[t].input_value?this.inputs[t].input_value<0||this.inputs[t].input_value>150?(this.$set(this.inputs[t],"state",!1),this.$set(this.inputs[t],"mistake","Возраст должен быть в пределах от 0 до 150")):this.$set(this.inputs[t],"state",!0):(this.$set(this.inputs[t],"state",!1),this.$set(this.inputs[t],"mistake","Укажите возраст")),this.checkForms()},rulesInputDate:function(t){this.inputs[t].input_value.length>0?this.$set(this.inputs[t],"state",!0):this.$set(this.inputs[t],"state",!1),this.checkForms()},rulesInputCity:function(t){this.inputs[4].input_value=t.value,this.$set(this.inputs[4],"state",!0),this.checkForms()},checkTime:function(){var t=this.timeBegin.slice(0,2),e=this.timeEnd.slice(0,2);return console.log(t,e),parseInt(e)>parseInt(t)},appointment:function(){"г Москва"===this.inputs[4].input_value?this.$router.push({name:"Error"}):this.$router.push({name:"Success",params:{inputs:this.inputs,timeBegin:this.timeBegin,timeEnd:this.timeEnd}})}}},F=x,j=Object(c["a"])(F,b,v,!1,null,null,null),B=j.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"justify-content-md-center mt-4"},[n("b-col",{attrs:{col:"",md:"8"}},[n("b-card",{attrs:{header:"Вы записаны к врачу","header-bg-variant":"success","header-text-variant":"white"}},[n("b-table",{attrs:{hover:"",items:t.items}})],1)],1)],1),n("b-col",{attrs:{col:"",md:"8"}},[n("b-button",{on:{click:function(e){return t.returnToMainForm()}}},[t._v("Вернуться в главное меню")])],1)],1)},I=[],M={name:"SuccessForm",data:function(){return{items:[]}},props:["inputs","timeBegin","timeEnd"],mounted:function(){if(this.inputs){var t=[];for(var e in this.inputs){var n={};n["Параметр"]=this.inputs[e].tabel,n["Данные"]=this.inputs[e].input_value,t.push(n)}t.push({"Параметр":"Время начала записи","Данные":this.timeBegin}),t.push({"Параметр":"Время конца записи","Данные":this.timeEnd}),this.items=t}},methods:{returnToMainForm:function(){this.$router.push({name:"MainForm"})}}},T=M,C=Object(c["a"])(T,O,I,!1,null,null,null),D=C.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"justify-content-md-center mt-4"},[n("b-col",{attrs:{col:"",md:"8"}},[n("b-card",{attrs:{header:"Что-то пошло не так. Попробуйте записаться ещё раз","header-bg-variant":"danger","header-text-variant":"white"}},[n("b-button",{on:{click:function(e){return t.returnToMainForm()}}},[t._v("Повторить запись")])],1)],1)],1)],1)},P=[],Z={name:"ErrorForm",methods:{returnToMainForm:function(){this.$router.push({name:"MainForm"})}}},A=Z,N=Object(c["a"])(A,S,P,!1,null,"aaa01e1a",null),z=N.exports;i["default"].use(f["a"]);var J=new f["a"]({mode:"history",routes:[{path:"/",name:"MainForm",component:B},{path:"/success",name:"Success",component:D,props:!0},{path:"/error",name:"Error",component:z}]}),q=J;i["default"].config.productionTip=!1,i["default"].use(m["a"]),i["default"].use(d["a"]),new i["default"]({store:a,router:q,render:function(t){return t(h)}}).$mount("#app")}});
//# sourceMappingURL=app.9a49fa8f.js.map